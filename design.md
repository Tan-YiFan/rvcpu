5-stage pipeline with cache